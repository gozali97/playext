(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{1394:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test-runner",function(){return t(888)}])},6153:function(e,s,t){"use strict";t.d(s,{Z:function(){return p}});var a=t(5893),l=t(7294),n=t(1664),r=t.n(n),i=t(1163),c=t(8361),d=t(5062),o=t(5264),m=t(2553),x=t(8562),h=t(2190),u=t(8497);let f=[{name:"Dashboard",href:"/",icon:c.Z},{name:"Run Tests",href:"/test-runner",icon:d.Z},{name:"Configuration",href:"/configuration",icon:o.Z},{name:"Reports",href:"/reports",icon:m.Z},{name:"Analytics",href:"/analytics",icon:x.Z}];function p(e){let{children:s}=e,[t,n]=(0,l.useState)(!1),c=(0,i.useRouter)();return(0,a.jsxs)("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[(0,a.jsxs)("div",{className:"fixed inset-0 flex z-40 md:hidden ".concat(t?"":"hidden"),children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>n(!1)}),(0,a.jsxs)("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,a.jsx)("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>n(!1),children:(0,a.jsx)(h.Z,{className:"h-6 w-6 text-white"})})}),(0,a.jsx)(d,{})]})]}),(0,a.jsx)("div",{className:"hidden md:flex md:flex-shrink-0",children:(0,a.jsx)("div",{className:"flex flex-col w-64",children:(0,a.jsx)(d,{})})}),(0,a.jsxs)("div",{className:"flex flex-col w-0 flex-1 overflow-hidden",children:[(0,a.jsx)("div",{className:"md:hidden pl-1 pt-1 sm:pl-3 sm:pt-3",children:(0,a.jsx)("button",{type:"button",className:"-ml-0.5 -mt-0.5 h-12 w-12 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>n(!0),children:(0,a.jsx)(u.Z,{className:"h-6 w-6"})})}),(0,a.jsx)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:s})]})]});function d(){return(0,a.jsxs)("div",{className:"flex flex-col h-0 flex-1 border-r border-gray-200 bg-white",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"\uD83E\uDDEA"})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Test Framework"})})]}),(0,a.jsx)("nav",{className:"mt-8 flex-1 px-2 space-y-1",children:f.map(e=>{let s=c.pathname===e.href;return(0,a.jsxs)(r(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ".concat(s?"bg-primary-100 text-primary-900 border-r-2 border-primary-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-5 w-5 ".concat(s?"text-primary-600":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name)})})]}),(0,a.jsx)("div",{className:"flex-shrink-0 flex border-t border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Universal Test Automation Framework v2.0"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Web Interface"})]})})]})}}},493:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(3759).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},888:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(5893),l=t(7294),n=t(1163),r=t(6153),i=t(5264),c=t(2553),d=t(5062),o=t(3759);let m=(0,o.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var x=t(493);let h=(0,o.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function u(){var e,s,t,o,u,f,p,j;let[g,y]=(0,l.useState)(!1),[v,b]=(0,l.useState)(["smoke"]),[N,k]=(0,l.useState)({html:!0,verbose:!0,headless:!1}),[w,T]=(0,l.useState)([]),[S,C]=(0,l.useState)(null),[E,Z]=(0,l.useState)(null),_=(0,l.useRef)(null),P=(0,n.useRouter)();(0,l.useEffect)(()=>{P.query.type&&b([P.query.type])},[P.query]),(0,l.useEffect)(()=>{var e;null===(e=_.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[w]);let M=async()=>{if(!v.length){alert("Silakan pilih minimal satu jenis test");return}y(!0),T([]),C(null);try{let e={testType:v.join(","),options:{html:N.html,verbose:N.verbose,headless:N.headless}};O("info","Memulai eksekusi test..."),O("info","Menjalankan test: ".concat(v.join(", "))),new EventSource("/api/test/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});let s=await fetch("/api/test/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));let t=s.body.getReader(),a=new TextDecoder;for(;;){let{done:e,value:s}=await t.read();if(e)break;for(let e of a.decode(s).split("\n"))if(e.startsWith("data: "))try{let s=JSON.parse(e.slice(6));L(s)}catch(e){console.error("Error parsing SSE data:",e)}}}catch(e){console.error("Test execution error:",e),O("error","Error: ".concat(e.message)),y(!1)}},L=e=>{switch(e.type){case"start":case"stdout":O("info",e.message);break;case"stderr":O("error",e.message);break;case"complete":O(e.success?"success":"error",e.message),e.report&&C(e.report),y(!1);break;case"error":O("error",e.message),y(!1);break;default:O("info",e.message||JSON.stringify(e))}},R=async()=>{E&&(E.close(),Z(null)),y(!1),O("warning","Test execution diberhentikan oleh user")},O=(e,s)=>{let t=new Date().toLocaleTimeString("id-ID");T(a=>[...a,{type:e,message:s,timestamp:t}])},D=(e,s)=>{"all"===e?s?b(["all"]):b([]):s?b(s=>[...s.filter(e=>"all"!==e),e]):b(s=>s.filter(s=>s!==e))};return(0,a.jsx)(r.Z,{children:(0,a.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"▶️ Test Runner"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Jalankan dan monitor automated tests secara real-time"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>P.push("/configuration"),className:"btn btn-secondary flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Konfigurasi"})]}),(0,a.jsxs)("button",{onClick:()=>P.push("/reports"),className:"btn btn-secondary flex items-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Laporan"})]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pilih Jenis Test"}),(0,a.jsx)("div",{className:"space-y-2",children:[{value:"smoke",label:"Smoke Tests",description:"Quick health checks"},{value:"unit",label:"Unit Tests",description:"Component testing"},{value:"integration",label:"Integration Tests",description:"API and service testing"},{value:"functional",label:"Functional Tests",description:"Feature testing"},{value:"e2e",label:"E2E Tests",description:"End-to-end testing"},{value:"performance",label:"Performance Tests",description:"Speed and load testing"},{value:"security",label:"Security Tests",description:"Vulnerability scanning"},{value:"regression",label:"Regression Tests",description:"Preventing regressions"},{value:"load",label:"Load Tests",description:"Performance under load"},{value:"all",label:"All Tests",description:"Complete test suite"}].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:v.includes(e.value),onChange:s=>D(e.value,s.target.checked),disabled:g,className:"form-checkbox"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.label}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]},e.value))})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Opsi Test"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:N.html,onChange:e=>k(s=>({...s,html:e.target.checked})),disabled:g,className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:"Generate HTML Report"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:N.verbose,onChange:e=>k(s=>({...s,verbose:e.target.checked})),disabled:g,className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:"Verbose Logging"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:N.headless,onChange:e=>k(s=>({...s,headless:e.target.checked})),disabled:g,className:"form-checkbox"}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:"Headless Mode"})]})]})]}),(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"space-y-3",children:[g?(0,a.jsxs)("button",{onClick:R,className:"btn btn-danger w-full flex items-center justify-center space-x-2",children:[(0,a.jsx)(m,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Hentikan Test"})]}):(0,a.jsxs)("button",{onClick:M,disabled:!v.length,className:"btn btn-primary w-full flex items-center justify-center space-x-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Mulai Test"})]}),(0,a.jsx)("div",{className:"text-center",children:g?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-warning-600",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-warning-600"}),(0,a.jsx)("span",{className:"text-sm",children:"Menjalankan test..."})]}):(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Siap untuk menjalankan test"})})]})}),S&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[(null===(e=S.summary)||void 0===e?void 0:e.passed)>(null===(s=S.summary)||void 0===s?void 0:s.failed)?(0,a.jsx)(x.Z,{className:"h-5 w-5 text-success-600"}):(0,a.jsx)(h,{className:"h-5 w-5 text-danger-600"}),(0,a.jsx)("span",{children:"Hasil Test"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Test:"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(null===(t=S.summary)||void 0===t?void 0:t.totalTests)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Berhasil:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-success-600",children:(null===(o=S.summary)||void 0===o?void 0:o.passed)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Gagal:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-danger-600",children:(null===(u=S.summary)||void 0===u?void 0:u.failed)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Durasi:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(((null===(f=S.framework)||void 0===f?void 0:f.duration)||0)/1e3),"s"]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Success Rate:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[(null===(p=S.summary)||void 0===p?void 0:p.totalTests)>0?Math.round(S.summary.passed/S.summary.totalTests*100):0,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-success-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((null===(j=S.summary)||void 0===j?void 0:j.totalTests)>0?S.summary.passed/S.summary.totalTests*100:0,"%")}})})]})]}),S.reportPath&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("button",{onClick:()=>window.open(S.reportPath,"_blank"),className:"btn btn-secondary w-full flex items-center justify-center space-x-2",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Lihat Laporan HTML"})]})})]})]}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Log Eksekusi"}),(0,a.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 h-96 overflow-y-auto font-mono text-sm",children:0===w.length?(0,a.jsx)("div",{className:"text-gray-400",children:"Menunggu eksekusi test..."}):(0,a.jsxs)(a.Fragment,{children:[w.map((e,s)=>(0,a.jsxs)("div",{className:"mb-1 ".concat("error"===e.type?"text-red-400":"success"===e.type?"text-green-400":"warning"===e.type?"text-yellow-400":"text-gray-300"),children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["[",e.timestamp,"]"]})," ",e.message]},s)),(0,a.jsx)("div",{ref:_})]})})]})})]})]})})}}},function(e){e.O(0,[614,888,774,179],function(){return e(e.s=1394)}),_N_E=e.O()}]);