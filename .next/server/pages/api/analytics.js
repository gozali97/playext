"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/analytics";
exports.ids = ["pages/api/analytics"];
exports.modules = {

/***/ "fs-extra":
/*!***************************!*\
  !*** external "fs-extra" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("fs-extra");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalytics&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Canalytics.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalytics&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Canalytics.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_analytics_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\analytics.js */ \"(api)/./pages/api/analytics.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_analytics_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_analytics_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/analytics\",\n        pathname: \"/api/analytics\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_analytics_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmFuYWx5dGljcyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYW5hbHl0aWNzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxvREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsb0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW5pdmVyc2FsLXRlc3QtYXV0b21hdGlvbi1mcmFtZXdvcmsvPzRjNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxhbmFseXRpY3MuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXRpY3NcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXRpY3NcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalytics&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Canalytics.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/analytics.js":
/*!********************************!*\
  !*** ./pages/api/analytics.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs_extra__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs-extra */ \"fs-extra\");\n/* harmony import */ var fs_extra__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_extra__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function handler(req, res) {\n    const reportsDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"reports\");\n    try {\n        if (req.method !== \"GET\") {\n            return res.status(405).json({\n                message: \"Method not allowed\"\n            });\n        }\n        // Pastikan direktori reports ada\n        if (!await fs_extra__WEBPACK_IMPORTED_MODULE_0___default().pathExists(reportsDir)) {\n            return res.status(200).json({\n                summary: {\n                    totalReports: 0,\n                    trends: [],\n                    testTypeStats: {}\n                },\n                trends: {\n                    daily: [],\n                    weekly: [],\n                    testTypes: []\n                },\n                performance: {\n                    averageDuration: 0,\n                    successRateHistory: []\n                }\n            });\n        }\n        const files = await fs_extra__WEBPACK_IMPORTED_MODULE_0___default().readdir(reportsDir);\n        const reports = [];\n        // Collect all report data\n        for (const file of files){\n            if (file.endsWith(\".json\") && file.startsWith(\"test-report-\")) {\n                try {\n                    const reportPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(reportsDir, file);\n                    const report = await fs_extra__WEBPACK_IMPORTED_MODULE_0___default().readJson(reportPath);\n                    reports.push(report);\n                } catch (error) {\n                    console.error(`Error reading report ${file}:`, error);\n                }\n            }\n        }\n        // Calculate analytics\n        const analytics = calculateAnalytics(reports);\n        return res.status(200).json(analytics);\n    } catch (error) {\n        console.error(\"Analytics API error:\", error);\n        return res.status(500).json({\n            message: \"Failed to generate analytics\",\n            error: error.message\n        });\n    }\n}\nfunction calculateAnalytics(reports) {\n    if (reports.length === 0) {\n        return {\n            summary: {\n                totalReports: 0,\n                trends: [],\n                testTypeStats: {}\n            },\n            trends: {\n                daily: [],\n                weekly: [],\n                testTypes: []\n            },\n            performance: {\n                averageDuration: 0,\n                successRateHistory: []\n            }\n        };\n    }\n    // Sort reports by date\n    const sortedReports = reports.sort((a, b)=>new Date(a.framework?.startTime) - new Date(b.framework?.startTime));\n    // Calculate summary stats\n    const totalReports = reports.length;\n    const totalTests = reports.reduce((sum, r)=>sum + (r.summary?.totalTests || 0), 0);\n    const totalPassed = reports.reduce((sum, r)=>sum + (r.summary?.passed || 0), 0);\n    const totalFailed = reports.reduce((sum, r)=>sum + (r.summary?.failed || 0), 0);\n    const averageSuccessRate = totalTests > 0 ? totalPassed / totalTests * 100 : 0;\n    const averageDuration = reports.reduce((sum, r)=>sum + (r.framework?.duration || 0), 0) / reports.length;\n    // Calculate test type statistics\n    const testTypeStats = {};\n    reports.forEach((report)=>{\n        Object.keys(report.testTypes || {}).forEach((testType)=>{\n            if (!testTypeStats[testType]) {\n                testTypeStats[testType] = {\n                    name: testType,\n                    totalRuns: 0,\n                    totalTests: 0,\n                    passed: 0,\n                    failed: 0,\n                    averageDuration: 0,\n                    successRate: 0\n                };\n            }\n            const testData = report.testTypes[testType];\n            testTypeStats[testType].totalRuns++;\n            testTypeStats[testType].totalTests += testData.summary?.totalTests || 0;\n            testTypeStats[testType].passed += testData.summary?.passed || 0;\n            testTypeStats[testType].failed += testData.summary?.failed || 0;\n            testTypeStats[testType].averageDuration += testData.duration || 0;\n        });\n    });\n    // Calculate averages for test types\n    Object.values(testTypeStats).forEach((stat)=>{\n        stat.averageDuration = stat.averageDuration / stat.totalRuns;\n        stat.successRate = stat.totalTests > 0 ? stat.passed / stat.totalTests * 100 : 0;\n    });\n    // Calculate trends (last 30 days)\n    const dailyTrends = calculateDailyTrends(sortedReports);\n    const testTypeTrends = calculateTestTypeTrends(sortedReports);\n    // Performance trends\n    const successRateHistory = sortedReports.map((report)=>({\n            date: report.framework?.startTime,\n            successRate: report.summary?.totalTests > 0 ? report.summary.passed / report.summary.totalTests * 100 : 0,\n            duration: report.framework?.duration || 0,\n            totalTests: report.summary?.totalTests || 0\n        }));\n    return {\n        summary: {\n            totalReports,\n            totalTests,\n            totalPassed,\n            totalFailed,\n            averageSuccessRate: Math.round(averageSuccessRate * 100) / 100,\n            averageDuration: Math.round(averageDuration),\n            testTypeStats: Object.values(testTypeStats)\n        },\n        trends: {\n            daily: dailyTrends,\n            testTypes: testTypeTrends\n        },\n        performance: {\n            averageDuration: Math.round(averageDuration),\n            successRateHistory,\n            durationTrend: calculateDurationTrend(sortedReports)\n        }\n    };\n}\nfunction calculateDailyTrends(reports) {\n    const dailyData = {};\n    reports.forEach((report)=>{\n        const date = new Date(report.framework?.startTime).toISOString().split(\"T\")[0];\n        if (!dailyData[date]) {\n            dailyData[date] = {\n                date,\n                totalTests: 0,\n                passed: 0,\n                failed: 0,\n                reports: 0,\n                duration: 0\n            };\n        }\n        dailyData[date].totalTests += report.summary?.totalTests || 0;\n        dailyData[date].passed += report.summary?.passed || 0;\n        dailyData[date].failed += report.summary?.failed || 0;\n        dailyData[date].reports++;\n        dailyData[date].duration += report.framework?.duration || 0;\n    });\n    return Object.values(dailyData).map((day)=>({\n            ...day,\n            successRate: day.totalTests > 0 ? day.passed / day.totalTests * 100 : 0,\n            averageDuration: day.duration / day.reports\n        }));\n}\nfunction calculateTestTypeTrends(reports) {\n    const testTypeData = {};\n    reports.forEach((report)=>{\n        Object.entries(report.testTypes || {}).forEach(([testType, data])=>{\n            if (!testTypeData[testType]) {\n                testTypeData[testType] = [];\n            }\n            testTypeData[testType].push({\n                date: report.framework?.startTime,\n                status: data.status,\n                duration: data.duration,\n                totalTests: data.summary?.totalTests || 0,\n                passed: data.summary?.passed || 0,\n                failed: data.summary?.failed || 0\n            });\n        });\n    });\n    return Object.entries(testTypeData).map(([testType, history])=>({\n            testType,\n            history,\n            averageSuccessRate: history.length > 0 ? history.reduce((sum, h)=>sum + (h.totalTests > 0 ? h.passed / h.totalTests * 100 : 0), 0) / history.length : 0\n        }));\n}\nfunction calculateDurationTrend(reports) {\n    if (reports.length < 2) return 0;\n    const recent = reports.slice(-5).reduce((sum, r)=>sum + (r.framework?.duration || 0), 0) / 5;\n    const older = reports.slice(0, -5).reduce((sum, r)=>sum + (r.framework?.duration || 0), 0) / Math.max(1, reports.length - 5);\n    return (recent - older) / older * 100;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UTdELFFBQVE0RCxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUd2QyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsSUFBTUQsTUFBT0MsQ0FBQUEsRUFBRUwsU0FBUyxFQUFFVyxZQUFZLElBQUksS0FBS2lCLEtBQUtnQixHQUFHLENBQUMsR0FBRzlELFFBQVFZLE1BQU0sR0FBRztJQUU1SCxPQUFPLENBQUUrQyxTQUFTRSxLQUFJLElBQUtBLFFBQVM7QUFDdEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bml2ZXJzYWwtdGVzdC1hdXRvbWF0aW9uLWZyYW1ld29yay8uL3BhZ2VzL2FwaS9hbmFseXRpY3MuanM/YTlkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMtZXh0cmEnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgY29uc3QgcmVwb3J0c0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncmVwb3J0cycpXHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhc3Rpa2FuIGRpcmVrdG9yaSByZXBvcnRzIGFkYVxyXG4gICAgaWYgKCFhd2FpdCBmcy5wYXRoRXhpc3RzKHJlcG9ydHNEaXIpKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgc3VtbWFyeTogeyB0b3RhbFJlcG9ydHM6IDAsIHRyZW5kczogW10sIHRlc3RUeXBlU3RhdHM6IHt9IH0sXHJcbiAgICAgICAgdHJlbmRzOiB7IGRhaWx5OiBbXSwgd2Vla2x5OiBbXSwgdGVzdFR5cGVzOiBbXSB9LFxyXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7IGF2ZXJhZ2VEdXJhdGlvbjogMCwgc3VjY2Vzc1JhdGVIaXN0b3J5OiBbXSB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHJlcG9ydHNEaXIpXHJcbiAgICBjb25zdCByZXBvcnRzID0gW11cclxuICAgIFxyXG4gICAgLy8gQ29sbGVjdCBhbGwgcmVwb3J0IGRhdGFcclxuICAgIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xyXG4gICAgICBpZiAoZmlsZS5lbmRzV2l0aCgnLmpzb24nKSAmJiBmaWxlLnN0YXJ0c1dpdGgoJ3Rlc3QtcmVwb3J0LScpKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJlcG9ydFBhdGggPSBwYXRoLmpvaW4ocmVwb3J0c0RpciwgZmlsZSlcclxuICAgICAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IGZzLnJlYWRKc29uKHJlcG9ydFBhdGgpXHJcbiAgICAgICAgICByZXBvcnRzLnB1c2gocmVwb3J0KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciByZWFkaW5nIHJlcG9ydCAke2ZpbGV9OmAsIGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBhbmFseXRpY3NcclxuICAgIGNvbnN0IGFuYWx5dGljcyA9IGNhbGN1bGF0ZUFuYWx5dGljcyhyZXBvcnRzKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGFuYWx5dGljcylcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBbmFseXRpY3MgQVBJIGVycm9yOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZ2VuZXJhdGUgYW5hbHl0aWNzJyxcclxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UgXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlQW5hbHl0aWNzKHJlcG9ydHMpIHtcclxuICBpZiAocmVwb3J0cy5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1bW1hcnk6IHsgdG90YWxSZXBvcnRzOiAwLCB0cmVuZHM6IFtdLCB0ZXN0VHlwZVN0YXRzOiB7fSB9LFxyXG4gICAgICB0cmVuZHM6IHsgZGFpbHk6IFtdLCB3ZWVrbHk6IFtdLCB0ZXN0VHlwZXM6IFtdIH0sXHJcbiAgICAgIHBlcmZvcm1hbmNlOiB7IGF2ZXJhZ2VEdXJhdGlvbjogMCwgc3VjY2Vzc1JhdGVIaXN0b3J5OiBbXSB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBTb3J0IHJlcG9ydHMgYnkgZGF0ZVxyXG4gIGNvbnN0IHNvcnRlZFJlcG9ydHMgPSByZXBvcnRzLnNvcnQoKGEsIGIpID0+IFxyXG4gICAgbmV3IERhdGUoYS5mcmFtZXdvcms/LnN0YXJ0VGltZSkgLSBuZXcgRGF0ZShiLmZyYW1ld29yaz8uc3RhcnRUaW1lKVxyXG4gIClcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHN1bW1hcnkgc3RhdHNcclxuICBjb25zdCB0b3RhbFJlcG9ydHMgPSByZXBvcnRzLmxlbmd0aFxyXG4gIGNvbnN0IHRvdGFsVGVzdHMgPSByZXBvcnRzLnJlZHVjZSgoc3VtLCByKSA9PiBzdW0gKyAoci5zdW1tYXJ5Py50b3RhbFRlc3RzIHx8IDApLCAwKVxyXG4gIGNvbnN0IHRvdGFsUGFzc2VkID0gcmVwb3J0cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgKHIuc3VtbWFyeT8ucGFzc2VkIHx8IDApLCAwKVxyXG4gIGNvbnN0IHRvdGFsRmFpbGVkID0gcmVwb3J0cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgKHIuc3VtbWFyeT8uZmFpbGVkIHx8IDApLCAwKVxyXG4gIGNvbnN0IGF2ZXJhZ2VTdWNjZXNzUmF0ZSA9IHRvdGFsVGVzdHMgPiAwID8gKHRvdGFsUGFzc2VkIC8gdG90YWxUZXN0cykgKiAxMDAgOiAwXHJcbiAgY29uc3QgYXZlcmFnZUR1cmF0aW9uID0gcmVwb3J0cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgKHIuZnJhbWV3b3JrPy5kdXJhdGlvbiB8fCAwKSwgMCkgLyByZXBvcnRzLmxlbmd0aFxyXG5cclxuICAvLyBDYWxjdWxhdGUgdGVzdCB0eXBlIHN0YXRpc3RpY3NcclxuICBjb25zdCB0ZXN0VHlwZVN0YXRzID0ge31cclxuICByZXBvcnRzLmZvckVhY2gocmVwb3J0ID0+IHtcclxuICAgIE9iamVjdC5rZXlzKHJlcG9ydC50ZXN0VHlwZXMgfHwge30pLmZvckVhY2godGVzdFR5cGUgPT4ge1xyXG4gICAgICBpZiAoIXRlc3RUeXBlU3RhdHNbdGVzdFR5cGVdKSB7XHJcbiAgICAgICAgdGVzdFR5cGVTdGF0c1t0ZXN0VHlwZV0gPSB7XHJcbiAgICAgICAgICBuYW1lOiB0ZXN0VHlwZSxcclxuICAgICAgICAgIHRvdGFsUnVuczogMCxcclxuICAgICAgICAgIHRvdGFsVGVzdHM6IDAsXHJcbiAgICAgICAgICBwYXNzZWQ6IDAsXHJcbiAgICAgICAgICBmYWlsZWQ6IDAsXHJcbiAgICAgICAgICBhdmVyYWdlRHVyYXRpb246IDAsXHJcbiAgICAgICAgICBzdWNjZXNzUmF0ZTogMFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdGVzdERhdGEgPSByZXBvcnQudGVzdFR5cGVzW3Rlc3RUeXBlXVxyXG4gICAgICB0ZXN0VHlwZVN0YXRzW3Rlc3RUeXBlXS50b3RhbFJ1bnMrK1xyXG4gICAgICB0ZXN0VHlwZVN0YXRzW3Rlc3RUeXBlXS50b3RhbFRlc3RzICs9IHRlc3REYXRhLnN1bW1hcnk/LnRvdGFsVGVzdHMgfHwgMFxyXG4gICAgICB0ZXN0VHlwZVN0YXRzW3Rlc3RUeXBlXS5wYXNzZWQgKz0gdGVzdERhdGEuc3VtbWFyeT8ucGFzc2VkIHx8IDBcclxuICAgICAgdGVzdFR5cGVTdGF0c1t0ZXN0VHlwZV0uZmFpbGVkICs9IHRlc3REYXRhLnN1bW1hcnk/LmZhaWxlZCB8fCAwXHJcbiAgICAgIHRlc3RUeXBlU3RhdHNbdGVzdFR5cGVdLmF2ZXJhZ2VEdXJhdGlvbiArPSB0ZXN0RGF0YS5kdXJhdGlvbiB8fCAwXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIC8vIENhbGN1bGF0ZSBhdmVyYWdlcyBmb3IgdGVzdCB0eXBlc1xyXG4gIE9iamVjdC52YWx1ZXModGVzdFR5cGVTdGF0cykuZm9yRWFjaChzdGF0ID0+IHtcclxuICAgIHN0YXQuYXZlcmFnZUR1cmF0aW9uID0gc3RhdC5hdmVyYWdlRHVyYXRpb24gLyBzdGF0LnRvdGFsUnVuc1xyXG4gICAgc3RhdC5zdWNjZXNzUmF0ZSA9IHN0YXQudG90YWxUZXN0cyA+IDAgPyAoc3RhdC5wYXNzZWQgLyBzdGF0LnRvdGFsVGVzdHMpICogMTAwIDogMFxyXG4gIH0pXHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0cmVuZHMgKGxhc3QgMzAgZGF5cylcclxuICBjb25zdCBkYWlseVRyZW5kcyA9IGNhbGN1bGF0ZURhaWx5VHJlbmRzKHNvcnRlZFJlcG9ydHMpXHJcbiAgY29uc3QgdGVzdFR5cGVUcmVuZHMgPSBjYWxjdWxhdGVUZXN0VHlwZVRyZW5kcyhzb3J0ZWRSZXBvcnRzKVxyXG5cclxuICAvLyBQZXJmb3JtYW5jZSB0cmVuZHNcclxuICBjb25zdCBzdWNjZXNzUmF0ZUhpc3RvcnkgPSBzb3J0ZWRSZXBvcnRzLm1hcChyZXBvcnQgPT4gKHtcclxuICAgIGRhdGU6IHJlcG9ydC5mcmFtZXdvcms/LnN0YXJ0VGltZSxcclxuICAgIHN1Y2Nlc3NSYXRlOiByZXBvcnQuc3VtbWFyeT8udG90YWxUZXN0cyA+IDAgXHJcbiAgICAgID8gKHJlcG9ydC5zdW1tYXJ5LnBhc3NlZCAvIHJlcG9ydC5zdW1tYXJ5LnRvdGFsVGVzdHMpICogMTAwIFxyXG4gICAgICA6IDAsXHJcbiAgICBkdXJhdGlvbjogcmVwb3J0LmZyYW1ld29yaz8uZHVyYXRpb24gfHwgMCxcclxuICAgIHRvdGFsVGVzdHM6IHJlcG9ydC5zdW1tYXJ5Py50b3RhbFRlc3RzIHx8IDBcclxuICB9KSlcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHN1bW1hcnk6IHtcclxuICAgICAgdG90YWxSZXBvcnRzLFxyXG4gICAgICB0b3RhbFRlc3RzLFxyXG4gICAgICB0b3RhbFBhc3NlZCxcclxuICAgICAgdG90YWxGYWlsZWQsXHJcbiAgICAgIGF2ZXJhZ2VTdWNjZXNzUmF0ZTogTWF0aC5yb3VuZChhdmVyYWdlU3VjY2Vzc1JhdGUgKiAxMDApIC8gMTAwLFxyXG4gICAgICBhdmVyYWdlRHVyYXRpb246IE1hdGgucm91bmQoYXZlcmFnZUR1cmF0aW9uKSxcclxuICAgICAgdGVzdFR5cGVTdGF0czogT2JqZWN0LnZhbHVlcyh0ZXN0VHlwZVN0YXRzKVxyXG4gICAgfSxcclxuICAgIHRyZW5kczoge1xyXG4gICAgICBkYWlseTogZGFpbHlUcmVuZHMsXHJcbiAgICAgIHRlc3RUeXBlczogdGVzdFR5cGVUcmVuZHNcclxuICAgIH0sXHJcbiAgICBwZXJmb3JtYW5jZToge1xyXG4gICAgICBhdmVyYWdlRHVyYXRpb246IE1hdGgucm91bmQoYXZlcmFnZUR1cmF0aW9uKSxcclxuICAgICAgc3VjY2Vzc1JhdGVIaXN0b3J5LFxyXG4gICAgICBkdXJhdGlvblRyZW5kOiBjYWxjdWxhdGVEdXJhdGlvblRyZW5kKHNvcnRlZFJlcG9ydHMpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVEYWlseVRyZW5kcyhyZXBvcnRzKSB7XHJcbiAgY29uc3QgZGFpbHlEYXRhID0ge31cclxuICBcclxuICByZXBvcnRzLmZvckVhY2gocmVwb3J0ID0+IHtcclxuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShyZXBvcnQuZnJhbWV3b3JrPy5zdGFydFRpbWUpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG4gICAgXHJcbiAgICBpZiAoIWRhaWx5RGF0YVtkYXRlXSkge1xyXG4gICAgICBkYWlseURhdGFbZGF0ZV0gPSB7XHJcbiAgICAgICAgZGF0ZSxcclxuICAgICAgICB0b3RhbFRlc3RzOiAwLFxyXG4gICAgICAgIHBhc3NlZDogMCxcclxuICAgICAgICBmYWlsZWQ6IDAsXHJcbiAgICAgICAgcmVwb3J0czogMCxcclxuICAgICAgICBkdXJhdGlvbjogMFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGRhaWx5RGF0YVtkYXRlXS50b3RhbFRlc3RzICs9IHJlcG9ydC5zdW1tYXJ5Py50b3RhbFRlc3RzIHx8IDBcclxuICAgIGRhaWx5RGF0YVtkYXRlXS5wYXNzZWQgKz0gcmVwb3J0LnN1bW1hcnk/LnBhc3NlZCB8fCAwXHJcbiAgICBkYWlseURhdGFbZGF0ZV0uZmFpbGVkICs9IHJlcG9ydC5zdW1tYXJ5Py5mYWlsZWQgfHwgMFxyXG4gICAgZGFpbHlEYXRhW2RhdGVdLnJlcG9ydHMrK1xyXG4gICAgZGFpbHlEYXRhW2RhdGVdLmR1cmF0aW9uICs9IHJlcG9ydC5mcmFtZXdvcms/LmR1cmF0aW9uIHx8IDBcclxuICB9KVxyXG5cclxuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhkYWlseURhdGEpLm1hcChkYXkgPT4gKHtcclxuICAgIC4uLmRheSxcclxuICAgIHN1Y2Nlc3NSYXRlOiBkYXkudG90YWxUZXN0cyA+IDAgPyAoZGF5LnBhc3NlZCAvIGRheS50b3RhbFRlc3RzKSAqIDEwMCA6IDAsXHJcbiAgICBhdmVyYWdlRHVyYXRpb246IGRheS5kdXJhdGlvbiAvIGRheS5yZXBvcnRzXHJcbiAgfSkpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZVRlc3RUeXBlVHJlbmRzKHJlcG9ydHMpIHtcclxuICBjb25zdCB0ZXN0VHlwZURhdGEgPSB7fVxyXG4gIFxyXG4gIHJlcG9ydHMuZm9yRWFjaChyZXBvcnQgPT4ge1xyXG4gICAgT2JqZWN0LmVudHJpZXMocmVwb3J0LnRlc3RUeXBlcyB8fCB7fSkuZm9yRWFjaCgoW3Rlc3RUeXBlLCBkYXRhXSkgPT4ge1xyXG4gICAgICBpZiAoIXRlc3RUeXBlRGF0YVt0ZXN0VHlwZV0pIHtcclxuICAgICAgICB0ZXN0VHlwZURhdGFbdGVzdFR5cGVdID0gW11cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGVzdFR5cGVEYXRhW3Rlc3RUeXBlXS5wdXNoKHtcclxuICAgICAgICBkYXRlOiByZXBvcnQuZnJhbWV3b3JrPy5zdGFydFRpbWUsXHJcbiAgICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1cyxcclxuICAgICAgICBkdXJhdGlvbjogZGF0YS5kdXJhdGlvbixcclxuICAgICAgICB0b3RhbFRlc3RzOiBkYXRhLnN1bW1hcnk/LnRvdGFsVGVzdHMgfHwgMCxcclxuICAgICAgICBwYXNzZWQ6IGRhdGEuc3VtbWFyeT8ucGFzc2VkIHx8IDAsXHJcbiAgICAgICAgZmFpbGVkOiBkYXRhLnN1bW1hcnk/LmZhaWxlZCB8fCAwXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIHJldHVybiBPYmplY3QuZW50cmllcyh0ZXN0VHlwZURhdGEpLm1hcCgoW3Rlc3RUeXBlLCBoaXN0b3J5XSkgPT4gKHtcclxuICAgIHRlc3RUeXBlLFxyXG4gICAgaGlzdG9yeSxcclxuICAgIGF2ZXJhZ2VTdWNjZXNzUmF0ZTogaGlzdG9yeS5sZW5ndGggPiAwIFxyXG4gICAgICA/IGhpc3RvcnkucmVkdWNlKChzdW0sIGgpID0+IHN1bSArIChoLnRvdGFsVGVzdHMgPiAwID8gKGgucGFzc2VkIC8gaC50b3RhbFRlc3RzKSAqIDEwMCA6IDApLCAwKSAvIGhpc3RvcnkubGVuZ3RoXHJcbiAgICAgIDogMFxyXG4gIH0pKVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVEdXJhdGlvblRyZW5kKHJlcG9ydHMpIHtcclxuICBpZiAocmVwb3J0cy5sZW5ndGggPCAyKSByZXR1cm4gMFxyXG4gIFxyXG4gIGNvbnN0IHJlY2VudCA9IHJlcG9ydHMuc2xpY2UoLTUpLnJlZHVjZSgoc3VtLCByKSA9PiBzdW0gKyAoci5mcmFtZXdvcms/LmR1cmF0aW9uIHx8IDApLCAwKSAvIDVcclxuICBjb25zdCBvbGRlciA9IHJlcG9ydHMuc2xpY2UoMCwgLTUpLnJlZHVjZSgoc3VtLCByKSA9PiBzdW0gKyAoci5mcmFtZXdvcms/LmR1cmF0aW9uIHx8IDApLCAwKSAvIE1hdGgubWF4KDEsIHJlcG9ydHMubGVuZ3RoIC0gNSlcclxuICBcclxuICByZXR1cm4gKChyZWNlbnQgLSBvbGRlcikgLyBvbGRlcikgKiAxMDBcclxufSAiXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInJlcG9ydHNEaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwicGF0aEV4aXN0cyIsInN1bW1hcnkiLCJ0b3RhbFJlcG9ydHMiLCJ0cmVuZHMiLCJ0ZXN0VHlwZVN0YXRzIiwiZGFpbHkiLCJ3ZWVrbHkiLCJ0ZXN0VHlwZXMiLCJwZXJmb3JtYW5jZSIsImF2ZXJhZ2VEdXJhdGlvbiIsInN1Y2Nlc3NSYXRlSGlzdG9yeSIsImZpbGVzIiwicmVhZGRpciIsInJlcG9ydHMiLCJmaWxlIiwiZW5kc1dpdGgiLCJzdGFydHNXaXRoIiwicmVwb3J0UGF0aCIsInJlcG9ydCIsInJlYWRKc29uIiwicHVzaCIsImVycm9yIiwiY29uc29sZSIsImFuYWx5dGljcyIsImNhbGN1bGF0ZUFuYWx5dGljcyIsImxlbmd0aCIsInNvcnRlZFJlcG9ydHMiLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiZnJhbWV3b3JrIiwic3RhcnRUaW1lIiwidG90YWxUZXN0cyIsInJlZHVjZSIsInN1bSIsInIiLCJ0b3RhbFBhc3NlZCIsInBhc3NlZCIsInRvdGFsRmFpbGVkIiwiZmFpbGVkIiwiYXZlcmFnZVN1Y2Nlc3NSYXRlIiwiZHVyYXRpb24iLCJmb3JFYWNoIiwiT2JqZWN0Iiwia2V5cyIsInRlc3RUeXBlIiwibmFtZSIsInRvdGFsUnVucyIsInN1Y2Nlc3NSYXRlIiwidGVzdERhdGEiLCJ2YWx1ZXMiLCJzdGF0IiwiZGFpbHlUcmVuZHMiLCJjYWxjdWxhdGVEYWlseVRyZW5kcyIsInRlc3RUeXBlVHJlbmRzIiwiY2FsY3VsYXRlVGVzdFR5cGVUcmVuZHMiLCJtYXAiLCJkYXRlIiwiTWF0aCIsInJvdW5kIiwiZHVyYXRpb25UcmVuZCIsImNhbGN1bGF0ZUR1cmF0aW9uVHJlbmQiLCJkYWlseURhdGEiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiZGF5IiwidGVzdFR5cGVEYXRhIiwiZW50cmllcyIsImRhdGEiLCJoaXN0b3J5IiwiaCIsInJlY2VudCIsInNsaWNlIiwib2xkZXIiLCJtYXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/analytics.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fanalytics&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Canalytics.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();