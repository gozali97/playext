"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/test/run";
exports.ids = ["pages/api/test/run"];
exports.modules = {

/***/ "fs-extra":
/*!***************************!*\
  !*** external "fs-extra" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("fs-extra");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftest%2Frun&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ctest%5Crun.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftest%2Frun&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ctest%5Crun.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_test_run_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\test\\run.js */ \"(api)/./pages/api/test/run.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_test_run_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_test_run_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/test/run\",\n        pathname: \"/api/test/run\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_test_run_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnRlc3QlMkZydW4mcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q3Rlc3QlNUNydW4uanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDdUQ7QUFDdkQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1EQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxtREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bml2ZXJzYWwtdGVzdC1hdXRvbWF0aW9uLWZyYW1ld29yay8/MmIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHRlc3RcXFxccnVuLmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdGVzdC9ydW5cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS90ZXN0L3J1blwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftest%2Frun&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ctest%5Crun.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/test/run.js":
/*!*******************************!*\
  !*** ./pages/api/test/run.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs_extra__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs-extra */ \"fs-extra\");\n/* harmony import */ var fs_extra__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_extra__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            message: \"Method not allowed\"\n        });\n    }\n    try {\n        const { testType, config, options = {} } = req.body;\n        if (!testType) {\n            return res.status(400).json({\n                message: \"Test type is required\"\n            });\n        }\n        // Create temporary config if custom config provided\n        let configPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"config\", \"default.json\");\n        if (config) {\n            const tempConfigPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"config\", `temp-${Date.now()}.json`);\n            await fs_extra__WEBPACK_IMPORTED_MODULE_2___default().writeJson(tempConfigPath, config, {\n                spaces: 2\n            });\n            configPath = tempConfigPath;\n        }\n        // Build command arguments\n        const args = [\n            path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"src\", \"core\", \"TestRunner.js\"),\n            `--config=${configPath}`,\n            `--type=${testType}`\n        ];\n        if (options.html) {\n            args.push(\"--html\");\n        }\n        if (options.verbose) {\n            args.push(\"--verbose\");\n        }\n        if (options.headless !== undefined) {\n            args.push(options.headless ? \"--headless\" : \"--show-browser\");\n        }\n        // Set up response for streaming\n        res.writeHead(200, {\n            \"Content-Type\": \"text/event-stream\",\n            \"Cache-Control\": \"no-cache\",\n            \"Connection\": \"keep-alive\",\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Headers\": \"Cache-Control\"\n        });\n        // Send initial message\n        res.write(`data: ${JSON.stringify({\n            type: \"start\",\n            message: \"Starting test execution...\"\n        })}\\n\\n`);\n        // Spawn test process\n        const testProcess = (0,child_process__WEBPACK_IMPORTED_MODULE_0__.spawn)(\"node\", args, {\n            cwd: process.cwd(),\n            stdio: [\n                \"ignore\",\n                \"pipe\",\n                \"pipe\"\n            ]\n        });\n        let output = \"\";\n        let hasError = false;\n        // Handle stdout\n        testProcess.stdout.on(\"data\", (data)=>{\n            const message = data.toString();\n            output += message;\n            res.write(`data: ${JSON.stringify({\n                type: \"stdout\",\n                message: message.trim()\n            })}\\n\\n`);\n        });\n        // Handle stderr\n        testProcess.stderr.on(\"data\", (data)=>{\n            const message = data.toString();\n            output += message;\n            hasError = true;\n            res.write(`data: ${JSON.stringify({\n                type: \"stderr\",\n                message: message.trim()\n            })}\\n\\n`);\n        });\n        // Handle process completion\n        testProcess.on(\"close\", async (code)=>{\n            try {\n                // Clean up temporary config\n                if (config && configPath.includes(\"temp-\")) {\n                    await fs_extra__WEBPACK_IMPORTED_MODULE_2___default().remove(configPath);\n                }\n                // Find latest report\n                const reportsDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"reports\");\n                const files = await fs_extra__WEBPACK_IMPORTED_MODULE_2___default().readdir(reportsDir);\n                const reportFiles = files.filter((file)=>file.startsWith(\"test-report-\") && file.endsWith(\".json\")).sort().reverse();\n                let reportData = null;\n                if (reportFiles.length > 0) {\n                    const latestReport = path__WEBPACK_IMPORTED_MODULE_1___default().join(reportsDir, reportFiles[0]);\n                    reportData = await fs_extra__WEBPACK_IMPORTED_MODULE_2___default().readJson(latestReport);\n                }\n                // Send completion message\n                res.write(`data: ${JSON.stringify({\n                    type: \"complete\",\n                    code,\n                    success: code === 0 && !hasError,\n                    report: reportData,\n                    message: code === 0 ? \"Test execution completed successfully\" : \"Test execution completed with errors\"\n                })}\\n\\n`);\n            } catch (error) {\n                res.write(`data: ${JSON.stringify({\n                    type: \"error\",\n                    message: `Error processing results: ${error.message}`\n                })}\\n\\n`);\n            } finally{\n                res.end();\n            }\n        });\n        // Handle process error\n        testProcess.on(\"error\", (error)=>{\n            res.write(`data: ${JSON.stringify({\n                type: \"error\",\n                message: `Failed to start test process: ${error.message}`\n            })}\\n\\n`);\n            res.end();\n        });\n        // Handle client disconnect\n        req.on(\"close\", ()=>{\n            if (testProcess && !testProcess.killed) {\n                testProcess.kill(\"SIGTERM\");\n            }\n        });\n    } catch (error) {\n        console.error(\"Test execution API error:\", error);\n        res.status(500).json({\n            message: \"Failed to execute tests\",\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MkQsR0FBRztZQUNUO1FBQ0Y7UUFFQSx1QkFBdUI7UUFDdkI5QixZQUFZSyxFQUFFLENBQUMsU0FBUyxDQUFDd0I7WUFDdkIxRCxJQUFJeUIsS0FBSyxDQUFDLENBQUMsTUFBTSxFQUFFQyxLQUFLQyxTQUFTLENBQUM7Z0JBQ2hDQyxNQUFNO2dCQUNOeEIsU0FBUyxDQUFDLDhCQUE4QixFQUFFc0QsTUFBTXRELE9BQU8sQ0FBQyxDQUFDO1lBQzNELEdBQUcsSUFBSSxDQUFDO1lBQ1JKLElBQUkyRCxHQUFHO1FBQ1Q7UUFFQSwyQkFBMkI7UUFDM0I1RCxJQUFJbUMsRUFBRSxDQUFDLFNBQVM7WUFDZCxJQUFJTCxlQUFlLENBQUNBLFlBQVkrQixNQUFNLEVBQUU7Z0JBQ3RDL0IsWUFBWWdDLElBQUksQ0FBQztZQUNuQjtRQUNGO0lBRUYsRUFBRSxPQUFPSCxPQUFPO1FBQ2RJLFFBQVFKLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDMUQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQkMsU0FBUztZQUNUc0QsT0FBT0EsTUFBTXRELE9BQU87UUFDdEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW5pdmVyc2FsLXRlc3QtYXV0b21hdGlvbi1mcmFtZXdvcmsvLi9wYWdlcy9hcGkvdGVzdC9ydW4uanM/MDU3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcGF3biB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBmcyBmcm9tICdmcy1leHRyYSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KVxyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgdGVzdFR5cGUsIGNvbmZpZywgb3B0aW9ucyA9IHt9IH0gPSByZXEuYm9keVxyXG5cclxuICAgIGlmICghdGVzdFR5cGUpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Rlc3QgdHlwZSBpcyByZXF1aXJlZCcgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgdGVtcG9yYXJ5IGNvbmZpZyBpZiBjdXN0b20gY29uZmlnIHByb3ZpZGVkXHJcbiAgICBsZXQgY29uZmlnUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnY29uZmlnJywgJ2RlZmF1bHQuanNvbicpXHJcbiAgICBpZiAoY29uZmlnKSB7XHJcbiAgICAgIGNvbnN0IHRlbXBDb25maWdQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdjb25maWcnLCBgdGVtcC0ke0RhdGUubm93KCl9Lmpzb25gKVxyXG4gICAgICBhd2FpdCBmcy53cml0ZUpzb24odGVtcENvbmZpZ1BhdGgsIGNvbmZpZywgeyBzcGFjZXM6IDIgfSlcclxuICAgICAgY29uZmlnUGF0aCA9IHRlbXBDb25maWdQYXRoXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQnVpbGQgY29tbWFuZCBhcmd1bWVudHNcclxuICAgIGNvbnN0IGFyZ3MgPSBbXHJcbiAgICAgIHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnc3JjJywgJ2NvcmUnLCAnVGVzdFJ1bm5lci5qcycpLFxyXG4gICAgICBgLS1jb25maWc9JHtjb25maWdQYXRofWAsXHJcbiAgICAgIGAtLXR5cGU9JHt0ZXN0VHlwZX1gXHJcbiAgICBdXHJcblxyXG4gICAgaWYgKG9wdGlvbnMuaHRtbCkge1xyXG4gICAgICBhcmdzLnB1c2goJy0taHRtbCcpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMudmVyYm9zZSkge1xyXG4gICAgICBhcmdzLnB1c2goJy0tdmVyYm9zZScpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuaGVhZGxlc3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBhcmdzLnB1c2gob3B0aW9ucy5oZWFkbGVzcyA/ICctLWhlYWRsZXNzJyA6ICctLXNob3ctYnJvd3NlcicpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHVwIHJlc3BvbnNlIGZvciBzdHJlYW1pbmdcclxuICAgIHJlcy53cml0ZUhlYWQoMjAwLCB7XHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9ldmVudC1zdHJlYW0nLFxyXG4gICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZScsXHJcbiAgICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLFxyXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLFxyXG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyc6ICdDYWNoZS1Db250cm9sJ1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyBTZW5kIGluaXRpYWwgbWVzc2FnZVxyXG4gICAgcmVzLndyaXRlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3N0YXJ0JywgbWVzc2FnZTogJ1N0YXJ0aW5nIHRlc3QgZXhlY3V0aW9uLi4uJyB9KX1cXG5cXG5gKVxyXG5cclxuICAgIC8vIFNwYXduIHRlc3QgcHJvY2Vzc1xyXG4gICAgY29uc3QgdGVzdFByb2Nlc3MgPSBzcGF3bignbm9kZScsIGFyZ3MsIHtcclxuICAgICAgY3dkOiBwcm9jZXNzLmN3ZCgpLFxyXG4gICAgICBzdGRpbzogWydpZ25vcmUnLCAncGlwZScsICdwaXBlJ11cclxuICAgIH0pXHJcblxyXG4gICAgbGV0IG91dHB1dCA9ICcnXHJcbiAgICBsZXQgaGFzRXJyb3IgPSBmYWxzZVxyXG5cclxuICAgIC8vIEhhbmRsZSBzdGRvdXRcclxuICAgIHRlc3RQcm9jZXNzLnN0ZG91dC5vbignZGF0YScsIChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhLnRvU3RyaW5nKClcclxuICAgICAgb3V0cHV0ICs9IG1lc3NhZ2VcclxuICAgICAgcmVzLndyaXRlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3N0ZG91dCcsIG1lc3NhZ2U6IG1lc3NhZ2UudHJpbSgpIH0pfVxcblxcbmApXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEhhbmRsZSBzdGRlcnJcclxuICAgIHRlc3RQcm9jZXNzLnN0ZGVyci5vbignZGF0YScsIChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhLnRvU3RyaW5nKClcclxuICAgICAgb3V0cHV0ICs9IG1lc3NhZ2VcclxuICAgICAgaGFzRXJyb3IgPSB0cnVlXHJcbiAgICAgIHJlcy53cml0ZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdzdGRlcnInLCBtZXNzYWdlOiBtZXNzYWdlLnRyaW0oKSB9KX1cXG5cXG5gKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBIYW5kbGUgcHJvY2VzcyBjb21wbGV0aW9uXHJcbiAgICB0ZXN0UHJvY2Vzcy5vbignY2xvc2UnLCBhc3luYyAoY29kZSkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIENsZWFuIHVwIHRlbXBvcmFyeSBjb25maWdcclxuICAgICAgICBpZiAoY29uZmlnICYmIGNvbmZpZ1BhdGguaW5jbHVkZXMoJ3RlbXAtJykpIHtcclxuICAgICAgICAgIGF3YWl0IGZzLnJlbW92ZShjb25maWdQYXRoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmluZCBsYXRlc3QgcmVwb3J0XHJcbiAgICAgICAgY29uc3QgcmVwb3J0c0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncmVwb3J0cycpXHJcbiAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCBmcy5yZWFkZGlyKHJlcG9ydHNEaXIpXHJcbiAgICAgICAgY29uc3QgcmVwb3J0RmlsZXMgPSBmaWxlc1xyXG4gICAgICAgICAgLmZpbHRlcihmaWxlID0+IGZpbGUuc3RhcnRzV2l0aCgndGVzdC1yZXBvcnQtJykgJiYgZmlsZS5lbmRzV2l0aCgnLmpzb24nKSlcclxuICAgICAgICAgIC5zb3J0KClcclxuICAgICAgICAgIC5yZXZlcnNlKClcclxuXHJcbiAgICAgICAgbGV0IHJlcG9ydERhdGEgPSBudWxsXHJcbiAgICAgICAgaWYgKHJlcG9ydEZpbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IGxhdGVzdFJlcG9ydCA9IHBhdGguam9pbihyZXBvcnRzRGlyLCByZXBvcnRGaWxlc1swXSlcclxuICAgICAgICAgIHJlcG9ydERhdGEgPSBhd2FpdCBmcy5yZWFkSnNvbihsYXRlc3RSZXBvcnQpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZW5kIGNvbXBsZXRpb24gbWVzc2FnZVxyXG4gICAgICAgIHJlcy53cml0ZShgZGF0YTogJHtKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICB0eXBlOiAnY29tcGxldGUnLFxyXG4gICAgICAgICAgY29kZSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGNvZGUgPT09IDAgJiYgIWhhc0Vycm9yLFxyXG4gICAgICAgICAgcmVwb3J0OiByZXBvcnREYXRhLFxyXG4gICAgICAgICAgbWVzc2FnZTogY29kZSA9PT0gMCA/ICdUZXN0IGV4ZWN1dGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5JyA6ICdUZXN0IGV4ZWN1dGlvbiBjb21wbGV0ZWQgd2l0aCBlcnJvcnMnXHJcbiAgICAgICAgfSl9XFxuXFxuYClcclxuXHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLndyaXRlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHR5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICBtZXNzYWdlOiBgRXJyb3IgcHJvY2Vzc2luZyByZXN1bHRzOiAke2Vycm9yLm1lc3NhZ2V9YFxyXG4gICAgICAgIH0pfVxcblxcbmApXHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgcmVzLmVuZCgpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gSGFuZGxlIHByb2Nlc3MgZXJyb3JcclxuICAgIHRlc3RQcm9jZXNzLm9uKCdlcnJvcicsIChlcnJvcikgPT4ge1xyXG4gICAgICByZXMud3JpdGUoYGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIHR5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgbWVzc2FnZTogYEZhaWxlZCB0byBzdGFydCB0ZXN0IHByb2Nlc3M6ICR7ZXJyb3IubWVzc2FnZX1gXHJcbiAgICAgIH0pfVxcblxcbmApXHJcbiAgICAgIHJlcy5lbmQoKVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBIYW5kbGUgY2xpZW50IGRpc2Nvbm5lY3RcclxuICAgIHJlcS5vbignY2xvc2UnLCAoKSA9PiB7XHJcbiAgICAgIGlmICh0ZXN0UHJvY2VzcyAmJiAhdGVzdFByb2Nlc3Mua2lsbGVkKSB7XHJcbiAgICAgICAgdGVzdFByb2Nlc3Mua2lsbCgnU0lHVEVSTScpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdUZXN0IGV4ZWN1dGlvbiBBUEkgZXJyb3I6JywgZXJyb3IpXHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZXhlY3V0ZSB0ZXN0cycsXHJcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXHJcbiAgICB9KVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsic3Bhd24iLCJwYXRoIiwiZnMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ0ZXN0VHlwZSIsImNvbmZpZyIsIm9wdGlvbnMiLCJib2R5IiwiY29uZmlnUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwidGVtcENvbmZpZ1BhdGgiLCJEYXRlIiwibm93Iiwid3JpdGVKc29uIiwic3BhY2VzIiwiYXJncyIsImh0bWwiLCJwdXNoIiwidmVyYm9zZSIsImhlYWRsZXNzIiwidW5kZWZpbmVkIiwid3JpdGVIZWFkIiwid3JpdGUiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsInRlc3RQcm9jZXNzIiwic3RkaW8iLCJvdXRwdXQiLCJoYXNFcnJvciIsInN0ZG91dCIsIm9uIiwiZGF0YSIsInRvU3RyaW5nIiwidHJpbSIsInN0ZGVyciIsImNvZGUiLCJpbmNsdWRlcyIsInJlbW92ZSIsInJlcG9ydHNEaXIiLCJmaWxlcyIsInJlYWRkaXIiLCJyZXBvcnRGaWxlcyIsImZpbHRlciIsImZpbGUiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJzb3J0IiwicmV2ZXJzZSIsInJlcG9ydERhdGEiLCJsZW5ndGgiLCJsYXRlc3RSZXBvcnQiLCJyZWFkSnNvbiIsInN1Y2Nlc3MiLCJyZXBvcnQiLCJlcnJvciIsImVuZCIsImtpbGxlZCIsImtpbGwiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/test/run.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ftest%2Frun&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Ctest%5Crun.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();